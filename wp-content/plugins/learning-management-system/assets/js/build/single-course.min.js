function masteriyo_select_single_course_page_tab(e,t){jQuery(".masteriyo-single-course--main__content .masteriyo-tab.active-tab").removeClass("active-tab"),jQuery(".masteriyo-single-course--main__content .tab-content").addClass("masteriyo-hidden"),jQuery(e.target).addClass("active-tab"),jQuery(".masteriyo-single-course--main__content "+t).removeClass("masteriyo-hidden"),"#overview"===t&&setTimeout(()=>{document.querySelector("#masteriyo-custom-fields").initialized||(initCustomFieldsRenderer(),document.querySelector("#masteriyo-custom-fields").initialized=!0)},50)}function masteriyoSelectSingleCoursePageTabById(e){e=jQuery(e.target),e.closest(".masteriyo-single-body__main--tabbar").find(".active-item").removeClass("active-item"),e.addClass("active-item"),e=e.data("tab-id"),e=jQuery("#"+e);e.closest(".masteriyo-single-body__main--content").children().addClass("masteriyo-hidden"),e.removeClass("masteriyo-hidden")}function initCustomFieldsRenderer(){var e=document.getElementById("masteriyo-course-values")?.textContent;if(e){let t=!1;if(!t){let i=document.querySelector(".custom-fields-container"),s=JSON.parse(e);if(!r()){let e=setInterval(()=>{r()&&clearInterval(e)},100)}function n(e){return"string"==typeof e?e.replace(/\n/g,"<br>"):e}function r(){var e;if(window.customFieldRegistry)return e=window.customFieldRegistry.getFields("Basic","all"),e.sort((e,t)=>(e.priority||0)-(t.priority||0)).forEach(e=>{var t=s[e.name]??"";i.insertAdjacentHTML("beforeend",function(e,t){let i="",s=!1,r=!1;switch(e.type){case"select":var o=e.options.find(e=>e.value===t?.value);i=o?.label||"";break;case"radio":o=e.options.find(e=>e.value===t);i=o?.label||"";break;case"checkbox":case"switch":i=t?"Yes":"No",r=!0;break;case"password":i="•".repeat(t?.length||0),s=!0;break;default:i=t}if(function(e){return null==e||!e&&!1!==e&&0!==e}(i))return"";var a="textarea"===e.type&&"string"==typeof i&&80<i.length;return`
		<div class="masteriyo-field" data-type="${e.type}">
			<div class="field-header">
				<span class="field-label">${e.label} </span>
				<div class="field-value">
					${r?`
						<span class="boolean-indicator ${t?"yes":"no"}">
							${t?"✓":"✕"}
						</span>
						<span class="boolean-text">${i}</span>
					`:""}
					${s?`
						<span class="password-display">${i}</span>
						<button class="toggle-password" data-value="${t}">
							Show
						</button>
					`:""}
					${["select","radio"].includes(e.type)?`
						<span class="option-badge">${i}</span>
					`:""}
					${r||s||["select","radio"].includes(e.type)?"":a?`
									<span class="text-value">
										<span class="truncated-text">${n(i.substring(0,80)+"...")}</span>
										<span class="full-text" style="display: none;">${n(i)}</span>
										<p class="see-more-less">See more</p>
									</span>
								`:`
									<span class="text-value">${n(i)}</span>
								`}
				</div>
			</div>
		</div>
	`}(e,t))}),document.querySelectorAll(".toggle-password").forEach(i=>{i.addEventListener("click",e=>{e.preventDefault();var e=i.previousElementSibling,t=i.dataset.value;e.textContent===t?(e.textContent="•".repeat(t.length),i.textContent="Show"):(e.textContent=t,i.textContent="Hide")})}),document.querySelectorAll(".see-more-less").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var e=this.closest(".text-value"),t=e.querySelector(".truncated-text"),e=e.querySelector(".full-text");"none"===t.style.display?(t.style.display="",e.style.display="none",this.textContent="See more"):(t.style.display="none",e.style.display="",this.textContent="See less")})}),t=!0}}}}!function(c,l){var a=function(e,t){e=l.rootApiUrl+"masteriyo/v1/courses/reviews/"+e;t.force_delete?e+="?force_delete=true":e+="?force_delete=false",c.ajax({type:"delete",headers:{"X-WP-Nonce":l.nonce},url:e,success:t.onSuccess,error:t.onError,complete:t.onComplete})},o=function(e,t){var i=l.rootApiUrl+"masteriyo/v1/courses/reviews";c.ajax({type:"post",headers:{"X-WP-Nonce":l.nonce},url:i,data:e,success:t.onSuccess,error:t.onError,complete:t.onComplete})},n=function(e,t,i){e=l.rootApiUrl+"masteriyo/v1/courses/reviews/"+e;c.ajax({type:"put",headers:{"X-WP-Nonce":l.nonce},url:e,data:t,success:i.onSuccess,error:i.onError,complete:i.onComplete})},d=function(e,t){if(!l.course_id||""===l.course_id.trim()||0==l.course_id){var i=c("div[data-id]").attr("data-id");if(!i||"0"===i)return;l.course_id=i}c.ajax({type:"POST",dataType:"json",data:{action:"masteriyo_course_reviews_infinite_loading",nonce:l.reviews_listing_nonce,page:e.page,search:e.search,rating:e.rating,course_id:l.course_id},url:l.ajaxURL,success:t.onSuccess,error:t.onError,complete:t.onComplete})},t=function(){c.ajax({type:"POST",dataType:"json",data:{action:"masteriyo_course_complete",nonce:l.course_complete_nonce,course_id:l.course_id},url:l.ajaxURL,success:function(e){e.success&&location.reload()},error:function(e,t,i){console.log(e)}})},m=function(e){return'<div class="masteriyo-notify-message masteriyo-alert masteriyo-danger-msg"><span>'+e+"</span></div>"},u=function(e){return'<div class="masteriyo-notify-message masteriyo-alert masteriyo-success-msg"><span>'+e+"</span></div>"},p=function(e){e.find(".masteriyo-notify-message").remove()},y=function(e){for(e=""===e?0:e,e=parseFloat(e),html="",e=(e=e>(max_rating=l.max_course_rating)?max_rating:e)<0?0:e,stars=l.rating_indicator_markup,rating_floor=Math.floor(e),i=1;i<=rating_floor;i++)html+=stars.full_star;for(rating_floor<e&&(html+=stars.half_star),rating_ceil=Math.ceil(e),i=rating_ceil;i<max_rating;i++)html+=stars.empty_star;return html},v=function(t={}){c(document.body).append(c(".masteriyo-confirm-delete-course-review-modal-content").html()),c(".masteriyo-modal-confirm-delete-course-review .masteriyo-cancel").on("click",function(){c(this).closest(".masteriyo-overlay").remove()}),c(".masteriyo-modal-confirm-delete-course-review .masteriyo-delete").on("click",function(){var e=c(this).closest(".masteriyo-overlay");e.find(".masteriyo-cancel").attr("disabled",!0),c(this).text(l.labels.deleting),"function"==typeof t.onConfirm&&t.onConfirm(function(){e.remove()})})},_={$create_review_form:c(".masteriyo-submit-review-form"),create_review_form_class:".masteriyo-submit-review-form",init:function(){c(document).ready(function(){_.init_sticky_sidebar(),_.init_rating_widget(),_.init_course_reviews_menu(),_.init_curriculum_accordions_handler(),_.init_create_reviews_handler(),_.init_edit_reviews_handler(),_.init_delete_reviews_handler(),_.init_reply_btn_handler(),_.init_course_reviews_loader(),_.init_password_projected_form_handler(),_.init_course_retake_handler(),_.init_course_complete_handler(),_.init_course_code_copy(),_.init_layout_1_curriculum_accordions_handler(),_.init_single_course_review_item_visibility(),_.init_course_progress_chart(),_.toggle_masteriyo_instructor(),_.prerequisites_highlight()})},prerequisites_highlight:function(){c(document).on("click",".masteriyo-prerequisites-enroll-button",function(e){e.preventDefault(),c(".masteriyo-single-course--prerequisites").addClass("masteriyo-single-course--prerequisites--required prerequisites-required"),setTimeout(function(){c(".masteriyo-single-course--prerequisites").removeClass("masteriyo-single-course--prerequisites--required")},1e3)})},toggle_masteriyo_instructor:function(){c(document).on("click",".additional-masteriyo-instructors-more",function(e){e.preventDefault();var t,e=c(this),i=e.attr("aria-controls"),i=c("#"+i);i.length&&(t="true"===e.attr("aria-expanded"),e.attr("aria-expanded",String(!t)),t?i.attr("hidden","hidden"):(i.removeAttr("hidden"),i.find("a").filter(function(){return""===c.trim(c(this).text())&&0===c(this).children().length}).remove()))})},init_course_progress_chart:function(){window._courseProgressChartInitialized||(window._courseProgressChartInitialized=!0,c(document.body).on("click",".progress-icon",function(e){e.preventDefault();var r,t,i,e=c(this).closest(".completed-component");function o(e){e=e;var e=Number.isFinite(e)?Math.min(Math.max(e,0),100):0,t=Math.round(e),i=2*Math.PI*90;return'<div class="masteriyo-course-progress-stats"><svg class="masteriyo-course-progress-ring" viewBox="0 0 200 200"><circle class="masteriyo-course-progress-ring__background" cx="100" cy="100" r="90"></circle><circle class="masteriyo-course-progress-ring__progress" cx="100" cy="100" r="90" style="stroke-dasharray: '+i+"; stroke-dashoffset:"+(i-e/100*i)+';"></circle></svg><div class="validity-countdown"><span class="validity-countdown--number">'+t+"%</span></div></div>"}e.length&&((t=e.find(".course-progress-popover")).length?(t.remove(),c(document).off("click.mto_outside keydown.mto_esc")):(c(".course-progress-popover").remove(),c(document).off("click.mto_outside keydown.mto_esc"),r=void 0!==l&&l&&l.course_progress?l.course_progress:{},t=Object.keys(r).filter(function(e){var t=r[e]||{};return 0<Number(t.total)&&"total"!==e}),e.find(".course-progress-popover").remove(),(i=c('<div class="course-progress-popover" />').appendTo(e)).html(t.map(e=>{return t=r[e=e]||{},i=Number(t&&t.total),s=Number(t&&t.completed),t=Number(t&&t.pending),(!Number.isFinite(i)||i<0)&&(i=0),(!Number.isFinite(s)||s<0)&&(s=0),(!Number.isFinite(t)||t<0)&&(t=Math.max(i-s,0)),i=0<i?s/i*100:0,e=String(e||"").toUpperCase(),'<div class="row">'+o(i)+'<div class="course-progress-text"><div class="label">'+e+'</div><div class="progress-details"><div class="progress-completed">'+s+' Completed</div><div class="progress-left">'+t+" Left</div></div></div></div>";var t,i,s}).join("")).addClass("visible"),i.off("click.mto_popstop").on("click.mto_popstop",function(e){e.stopPropagation()}),c(document).off("click.mto_outside").on("click.mto_outside",function(e){c(e.target).closest(".course-progress-popover, .progress-icon").length||(i.remove(),c(document).off("click.mto_outside keydown.mto_esc"))}),c(document).off("keydown.mto_esc").on("keydown.mto_esc",function(e){"Escape"===e.key&&(i.remove(),c(document).off("click.mto_outside keydown.mto_esc"))})))}))},init_single_course_review_item_visibility:function(){var e;"yes"!==l.review_form_enabled&&(c(".masteriyo-reply-course-review").hide(),c(".masteriyo-submit-container").hide(),c(".masteriyo-single-body__main--review-form").hide(),c(".masteriyo-single-body__main--review-list-content-reply-btn").hide()),"yes"!==l.current_user_logged_in?c(".masteriyo-login-msg").show():(c(".masteriyo-login-msg").hide(),"yes"===l.user_already_reviewed&&(c(".masteriyo-submit-container").hide(),c(".masteriyo-single-body__main--review-form").hide(),e="","yes"===l.user_has_pending_review&&l.labels.already_reviewed_pending?e=l.labels.already_reviewed_pending:l.labels.already_reviewed&&(e=l.labels.already_reviewed),e)&&!c(".masteriyo-already-reviewed-msg").length&&(e='<div class="masteriyo-already-reviewed-msg masteriyo-notify-message masteriyo-alert masteriyo-info-msg" style="clear: both;"><span>'+e+"</span></div>",c(".masteriyo-single-body__main--review-form").length?c(".masteriyo-single-body__main--review-form").after(e):c(".masteriyo-submit-container").length&&c(".masteriyo-submit-container").after(e)))},init_course_reviews_menu:function(){c(document.body).on("click",".menu-toggler",function(){0==c(this).siblings(".menu").height()?(c(this).siblings(".menu").height("auto"),c(this).siblings(".menu").css("max-height","999px")):c(this).siblings(".menu").height(0)}),c(".masteriyo-dropdown .menu li").on("click",function(){c(this).closest(".menu").height(0)}),c(document.body).click(function(e){0<c(".masteriyo-dropdown").has(e.target).length||c(".masteriyo-dropdown .menu").height(0)})},init_rating_widget:function(){let s=_.$create_review_form,i=!1,r=null;function o(e){e.find(".masteriyo-rating-input-icon").each(function(t){c(this).off("click").on("click",function(e){e.stopPropagation();e=t+1;r=e,i=!1,s.find('input[name="rating"]').val(e),a(e)})})}function a(e){var t=s.find(".masteriyo-rstar");let i=s.find('input[name="rating"]');0===i.length?(i=c("<input>",{type:"hidden",name:"rating",value:e}),s.append(i)):i.val(e),t.html(y(e)),o(t)}s.on("click",function(e){var t=c(e.target).closest(".masteriyo-rating-input-icon"),e=c(e.target).closest(".masteriyo-rstar");0!==t.length||0!==e.length||i||(a(s.find('input[name="rating"]').val()||0),i=!0,r=null)}),o(s.find(".masteriyo-rstar"))},init_create_reviews_handler:function(){var t=!1;_.$create_review_form.on("submit",function(e){e.preventDefault();var s=_.$create_review_form,r=s.find('button[type="submit"]'),e={title:s.find('input[name="title"]').val(),rating:s.find('input[name="rating"]').val(),content:s.find('[name="content"]').val(),parent:s.find('[name="parent"]').val(),course_id:s.find('[name="course_id"]').val()};t||"yes"===s.data("edit-mode")||(t=!0,r.text(l.labels.submitting),p(s),o(e,{onSuccess:function(){s.append(u(l.labels.submit_success)),s.trigger("reset"),l.user_already_reviewed="yes",setTimeout(function(){window.location.reload()},0)},onError:function(e,t,i){e.responseJSON&&e.responseJSON.message&&(i=e.responseJSON.message),s.append(m(i)),r.text(l.labels.submit)},onComplete:function(){t=!1}}))})},init_reply_btn_handler:function(){c(document.body).on("click",".masteriyo-reply-course-review, .masteriyo-single-body__main--review-list-content-reply-btn",function(e){e.preventDefault(),c(".masteriyo-submit-container").show(),c(".masteriyo-single-body__main--review-form").show(),c(".masteriyo-already-reviewed-msg").hide();var e=_.$create_review_form,t=c(this).closest(".masteriyo-course-review"),i=t.data("id"),s=e.find('button[type="submit"]'),t=t.find(".title").data("value");e.removeData("edit-mode"),e.removeData("review-id"),e.find('input[name="title"]').val(""),e.find('input[name="rating"]').val(0),e.find(".masteriyo-rstar").html(y(0)),e.find('[name="content"]').val(""),e.find('[name="parent"]').val(i),s.text(l.labels.submit),c(".masteriyo-form-title").text(l.labels.reply_to+": "+t),e.find(".masteriyo-title, .masteriyo-rating").hide(),e.find('[name="content"]').focus(),c("html, body").animate({scrollTop:e.offset().top},500)})},init_edit_reviews_handler:function(){c(document.body).on("click",".masteriyo-edit-course-review",function(e){e.preventDefault(),c(".masteriyo-submit-container").show(),c(".masteriyo-single-body__main--review-form").show(),c(".masteriyo-already-reviewed-msg").hide();var e=_.$create_review_form,t=c(this).closest(".masteriyo-course-review"),i=t.data("id"),s=e.find('button[type="submit"]'),r=t.find(".title").data("value"),o=t.find(".rating").data("value"),a=t.find(".content").data("value"),n=t.find('[name="parent"]').val();e.data("edit-mode","yes"),e.data("review-id",i),e.find('input[name="title"]').val(r),e.find('input[name="rating"]').val(o),e.find(".masteriyo-rstar").html(y(o)),e.find('[name="content"]').val(a),e.find('[name="parent"]').val(n),s.text(l.labels.update),(t.is(".is-course-review-reply")?(c(".masteriyo-form-title").text(l.labels.edit_reply),e.find(".masteriyo-title, .masteriyo-rating").hide(),e.find('[name="content"]')):(c(".masteriyo-form-title").text(l.labels.edit_review+": "+r),e.find(".masteriyo-title, .masteriyo-rating").show(),e.find('input[name="title"]'))).focus(),c("html, body").animate({scrollTop:e.offset().top},500)});var i=!1;_.$create_review_form.on("submit",function(e){e.preventDefault();var s=_.$create_review_form,e=s.data("review-id"),r=s.find('button[type="submit"]'),t={title:s.find('input[name="title"]').val(),rating:s.find('input[name="rating"]').val(),content:s.find('[name="content"]').val(),parent:s.find('[name="parent"]').val(),course_id:s.find('[name="course_id"]').val()};i||"yes"!==s.data("edit-mode")||(i=!0,r.text(l.labels.submitting),p(s),n(e,t,{onSuccess:function(){s.append(u(l.labels.update_success)),r.text(l.labels.update),s.trigger("reset"),window.location.reload()},onError:function(e,t,i){e.responseJSON&&e.responseJSON.message&&(i=e.responseJSON.message),s.append(m(i)),r.text(l.labels.update)},onComplete:function(){i=!1}}))})},init_delete_reviews_handler:function(){var o={};c(document.body).on("click",".masteriyo-delete-course-review",function(e){e.preventDefault();var s=c(this).closest(".masteriyo-course-review"),r=c(this),t=s.data("id"),i=c("[name=parent][value="+t+"]");o[t]||v({onConfirm:function(e){o[t]=!0,a(t,{force_delete:0===i.length,onSuccess:function(){var e,t;s.hasClass("is-course-review-reply")?(e=0===s.siblings().length,t=s.closest(".masteriyo-course-review-replies, .masteriyo-single-body__main--reply-lists").prev(),e&&t.hasClass("masteriyo-delete-review-notice")&&t.fadeOut(500,function(){c(this).remove()}),s.fadeOut(500,function(){e&&s.closest(".masteriyo-course-review-replies, .masteriyo-single-body__main--reply-lists").remove(),c(this).remove()})):(t="0"==s.find('input[name="parent"]').val()&&!s.hasClass("is-course-review-reply"),s.next().hasClass("masteriyo-course-review-replies, .masteriyo-single-body__main--reply-lists")&&s.after(l.review_deleted_notice),s.remove(),l.course_reviews_count--,l.course_reviews_count<=0&&(c(".masteriyo-stab--treviews").hide(),c(".masteriyo-stab--turating").hide(),c(".masteriyo-course-reviews-filters").hide()),t&&(l.user_already_reviewed="no",l.user_has_pending_review="no",c(".masteriyo-submit-container").show(),c(".masteriyo-single-body__main--review-form").show(),c(".masteriyo-already-reviewed-msg").remove(),(t=_.$create_review_form).removeData("edit-mode"),t.removeData("review-id"),t.find('input[name="title"]').val(""),t.find('input[name="rating"]').val(0),t.find(".masteriyo-rstar").html(y(0)),t.find('[name="content"]').val(""),t.find('[name="parent"]').val(0),t.find('button[type="submit"]').text(l.labels.submit),c(".masteriyo-form-title").text(""),t.find(".masteriyo-title, .masteriyo-rating").show()))},onError:function(e,t,i){e.responseJSON&&e.responseJSON.message&&(i=e.responseJSON.message),s.append(m(i)),r.find(".text").text(l.labels.delete)},onComplete:function(){o[t]=!1,e()}})}})})},init_course_retake_handler:function(){c(document.body).on("click",".masteriyo-retake-btn",function(e){e.preventDefault(),c(document.body).append(c(".masteriyo-confirm-retake-course-modal-content").html()),c(".masteriyo-modal-confirm-retake-course .masteriyo-cancel").on("click",function(){c(this).closest(".masteriyo-overlay").remove()}),c(".masteriyo-modal-confirm-retake-course .masteriyo-confirm").on("click",function(){window.location.href=l.retake_url,c(this).closest(".masteriyo-overlay").find(".masteriyo-cancel").attr("disabled",!0),c(this).text(l.labels.loading)})})},init_sticky_sidebar:function(){var s=c(".masteriyo-single-course--main").get(0);s&&c(window).scroll(function(){var e=c(window).scrollTop(),t=s.offsetTop,i=t+s.offsetHeight;(t<e&&e<i?!0:!1)?c(".masteriyo-single-course-stick").css({position:"sticky",top:"7.5rem"}):c(".masteriyo-single-course-stick").css({position:"relative",top:"0"})})},init_curriculum_accordions_handler:function(){c(document.body).on("click",".masteriyo-cheader",function(){c(this).parent(".masteriyo-stab--citems").toggleClass("active"),c(".masteriyo-stab--citems").length===c(".masteriyo-stab--citems.active").length&&t(),c(".masteriyo-stab--citems").length===c(".masteriyo-stab--citems").not(".active").length&&i()});var e=!1;function t(){c(".masteriyo-stab--citems").addClass("active"),c(".masteriyo-expand-collapse-all").text(l.labels.collapse_all),e=!1}function i(){c(".masteriyo-stab--citems").removeClass("active"),c(".masteriyo-expand-collapse-all").text(l.labels.expand_all),e=!0}c(document.body).on("click",".masteriyo-expand-collapse-all",function(){(e?t:i)()})},init_course_reviews_loader:function(){var t=!1,i=1,r="";c("button#masteriyo-course-reviews-search-button").on("click",()=>{var e=c("button#masteriyo-course-reviews-search-button");r=e.siblings("input").val()}),c("button.masteriyo-load-more").on("click",function(){var e,s;t||(e=c("select#masteriyo-course-reviews-ratings-select").val(),s=c(this),t=!0,s.text(l.labels.loading),d({page:i+1,search:r,rating:e},{onSuccess:function(e){e.success&&(e.data.view_load_more_button?s.show():s.remove(),i+=1,c(".masteriyo-course-reviews-list").append(e.data.html),c(".masteriyo-single-body__main--review-lists").append(e.data.html),c(".course-reviews .masteriyo-danger-msg").remove())},onError:function(e,t,i){i=(i=e.responseJSON&&e.responseJSON.data&&e.responseJSON.data.message?e.responseJSON.data.message:i)||l.labels.see_more_reviews;c(".course-reviews .masteriyo-danger-msg").length||s.after(m(i))},onComplete:function(){t=!1,i>=l.course_review_pages&&s.remove(),s.text(l.labels.see_more_reviews)}}))}),c(document.body).on("click change","button#masteriyo-course-reviews-search-button, select#masteriyo-course-reviews-ratings-select",function(){_.handleCourseReviewSearchAndFilter()}),c("input#masteriyo-course-reviews-search-field").on("keypress",function(e){13===e.which&&_.handleCourseReviewSearchAndFilter()})},handleCourseReviewSearchAndFilter:function(){var s=c("button#masteriyo-course-reviews-search-button"),t=c("button.masteriyo-load-more"),i=s.siblings("input").val(),r=c("select#masteriyo-course-reviews-ratings-select").val();(i||r)&&(isLoadingReviews=!0,currentPage=1,d({page:currentPage,search:i,rating:r},{onSuccess:function(e){e.success&&(searchText=i,rating=r,e.data.view_load_more_button?t.show():t.hide(),c(".masteriyo-course-reviews-list, .masteriyo-single-body__main--review-lists").html(e.data.html),c(".course-reviews .masteriyo-danger-msg").remove())},onError:function(e,t,i){searchText="",rating="",i=(i=e.responseJSON&&e.responseJSON.data&&e.responseJSON.data.message?e.responseJSON.data.message:i)||l.labels.see_more_reviews,c(".course-reviews .masteriyo-danger-msg").length||s.parents(".masteriyo-course-reviews-filters, .masteriyo-single-body__main--user-review__search-rating").after(m(i))},onComplete:function(){isLoadingReviews=!1}}))},init_password_projected_form_handler:function(){var e=c(".masteriyo-password-protected"),t=0,i=c("#masteriyoCoursePasswordProtectedModal .masteriyo-submit"),s=i.text(),r=s;function o(e){e.preventDefault(),r=i.data("loading-text"),i.text(r),i.prop("disabled",!0);e=c("#masteriyoPostPassword").val();e?c.ajax({type:"POST",dataType:"json",data:{action:"masteriyo_course_password_protection",nonce:l.password_protected_nonce,password:e,course_id:t},url:l.ajaxURL,success:function(e){r=s,i.text(r),i.prop("disabled",!1),e.success?(c("#masteriyoPostPassword").val(""),c("#passwordError").text(""),c("#masteriyoCoursePasswordProtectedModal").addClass("masteriyo-hidden"),e.data&&e.data.start_url&&window.open(e.data.start_url)):e.data&&e.data.message&&c("#passwordError").text(e.data.message).show()},error:function(e){r=s,i.text(r),i.prop("disabled",!1);var t="An error occurred";e.responseJSON&&e.responseJSON.data&&e.responseJSON.data.message&&(t=e.responseJSON.data.message),c("#passwordError").text(t).show()}}):l.labels&&l.labels.password_not_empty&&(c("#passwordError").text(l.labels.password_not_empty).show(),r=s,i.text(r),i.prop("disabled",!1))}e.on("click",function(e){e.preventDefault(),t=c(this).attr("href").split("=")[1],c("#masteriyoCoursePasswordProtectedModal").removeClass("masteriyo-hidden")}),c("#masteriyoCoursePasswordProtectedModal .masteriyo-cancel").on("click",function(e){e.preventDefault(),c("#masteriyoCoursePasswordProtectedModal").addClass("masteriyo-hidden")}),c("#masteriyoCoursePasswordProtectedModal form").on("submit",function(e){e.preventDefault()}),c("#masteriyoCoursePasswordProtectedModal .masteriyo-submit").on("click",function(e){o(e)}),c("#masteriyoCoursePasswordProtectedModal form").keypress(function(e){13==e.which&&o(e)})},init_course_complete_handler:function(){c(document.body).on("click",".masteriyo-course-complete",function(e){e.preventDefault();e=c(this).data("course-id");t(e)})},init_course_code_copy(){c(document.body).on("click",".copy-button-code",function(e){e.preventDefault();e=c(".masteriyo-copy-this-text").text();navigator.clipboard.writeText(e);c(this).html('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" ><path d="m12 15 2 2 4-4"/><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>'),setTimeout(()=>{c(this).html(`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/>
				<path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>
			</svg>`)},2e3)})},init_layout_1_curriculum_accordions_handler:function(){var e=c(".masteriyo-single-body__main--curriculum-content-bottom__accordion--header"),s=c(".masteriyo-single-body__main--curriculum-content-top--expand-btn"),r=c(".masteriyo-single-body__main--curriculum-content-bottom__accordion");e.on("click",function(){c(this).parent(".masteriyo-single-body__main--curriculum-content-bottom__accordion").toggleClass("active")}),s.on("click",function(){var e=s.data("expanded"),t=s.data("collapse-all-text"),i=s.data("expand-all-text");e?(r.removeClass("active"),s.data("expanded",!1).text(i)):(r.addClass("active"),s.data("expanded",!0).text(t))})}};_.init()}(jQuery,window.masteriyo_data),document.addEventListener("DOMContentLoaded",function(){initCustomFieldsRenderer()});